import{n as a,o as s,c as t,w as e,a as i,d as n,e as o,g as r,i as d,h as u,j as l,s as p,r as c,k as g,l as h,F as m,m as f,f as b}from"./index.ca9f02a4.js";import{_ as y}from"./newEssay.dd22f802.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as C}from"./buildingItem.ed036339.js";import{r as B}from"./uni-app.es.7a519bdb.js";var v=_({name:"navBar",data:()=>({}),props:{currentCategory:{type:String,default:()=>""}},methods:{newEssay(){a({url:"../../pages/newEssay/newEssay?currentCategory="+this.currentCategory})},search(){a({url:"../../pages/search/search?currentCategory="+this.currentCategory})}}},[["render",function(a,u,l,p,c,g){const h=o,m=r,f=d;return s(),t(f,{class:"nav-bar"},{default:e((()=>[i(f,{class:"nav-item",onClick:g.newEssay},{default:e((()=>[i(h,{src:y}),i(m,null,{default:e((()=>[n("发帖")])),_:1})])),_:1},8,["onClick"]),i(f,{class:"nav-item",onClick:g.search},{default:e((()=>[i(h,{src:"./assets/search.8a85ef89.png"}),i(m,null,{default:e((()=>[n("搜索")])),_:1})])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-fb8a9026"]]);var w=_({name:"post",data:()=>({building:[],page:0,pageCount:0,isBottom:!0}),props:{cid:{type:String,default:()=>"0"}},methods:{loadBuilding(){u({url:"/AnonymousForum/GET/essay.php",method:"POST",data:'{"cid": "'+this.cid+'", "page": '+this.page+" }",success:a=>{this.building.push(...a.data.building),this.building.pop(),this.pageCount=Math.floor(a.data.count/10)}})}},created(){this.loadBuilding(),l("reachBottom",(()=>{this.pageCount>this.page?(this.page++,this.loadBuilding(),this.isBottom=!1):this.isBottom=!0})),l("PullDownRefresh",(()=>{this.page=0,this.building.splice(0),u({url:"/AnonymousForum/GET/essay.php",method:"POST",data:'{"cid": "'+this.cid+'", "page": '+this.page+" }",success:a=>{this.building.push(...a.data.building),this.building.pop(),this.pageCount=Math.floor(a.data.count/10),p()}})}))},computed:{showBuilding(){return this.building}}},[["render",function(a,i,o,r,u,l){const p=B(c("buildingItem"),C),y=b,_=d;return s(),t(_,null,{default:e((()=>[(s(!0),g(m,null,h(l.showBuilding,(a=>(s(),t(p,{building:a},null,8,["building"])))),256)),u.isBottom?(s(),t(y,{key:0,id:"tips"},{default:e((()=>[n("前方是一片虚无...")])),_:1})):f("",!0)])),_:1})}],["__scopeId","data-v-4439dee8"]]),k="./assets/back.b59ba299.gif";export{k as _,w as a,v as b};
